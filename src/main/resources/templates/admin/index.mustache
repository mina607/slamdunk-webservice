<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>κ΄€λ¦¬μ λ€μ‹λ³΄λ“ - νΈν…” λ΅λ΄‡ μ„λΉ„μ¤</title>
    {{>layout/header}}
    <link rel="stylesheet" href="/css/admin_style.css">
    <link rel="stylesheet" href="/css/toast.css">

</head>
<body>

<div class="overlay">
    <div class="admin-container">
        <!-- μ‚¬μ΄λ“λ°” -->
        {{>layout/aside}}

        <!-- λ©”μΈ μ½ν…μΈ  -->
        <main class="main-content">
            <!-- ν—¤λ” -->
            <div class="content-header">
                <h2><i class="fas fa-chart-line me-2"></i>λ€μ‹λ³΄λ“</h2>
                <div class="admin-user">
                    <span>κ΄€λ¦¬μλ‹, ν™μν•©λ‹λ‹¤</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>

            <!-- ν†µκ³„ μΉ΄λ“ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-title">μ¤λμ μ£Όλ¬Έ</div>
                        <div class="stat-icon blue">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="today-orders">{{foodOrders}} / {{productOrders}}</div>
                    <div class="stat-label">π½οΈ λ£Έ μ„λΉ„μ¤ μ / π“¦ λ¬Όν’ μ„λΉ„μ¤ μ</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-title">μ¤λμ λ§¤μ¶</div>
                        <div class="stat-icon green">
                            <i class="fas fa-won-sign"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="today-revenue">{{todayRevenue}}</div>
                    <div class="stat-label">μ΄ λ§¤μ¶μ•΅</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-title">λ°°λ‹¬ μ¤‘</div>
                        <div class="stat-icon orange">
                            <i class="fas fa-truck"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="delivering-count">{{deliveringCount}}</div>
                    <div class="stat-label">ν„μ¬ λ°°λ‹¬ μ¤‘μΈ μ£Όλ¬Έ</div>
                    <div class="stat-change">
                        ν‰κ·  λ°°λ‹¬ μ‹κ°„: 12λ¶„
                    </div>
                </div>
            </div>

            <!-- λ΅λ΄‡ μƒνƒ -->
            <div class="dashboard-card">
                <div class="card-header">
                    <h3 class="card-title"><i class="fas fa-robot me-2"></i>λ΅λ΄‡ μƒνƒ λ¨λ‹ν„°λ§</h3>
<!--                    <a href="#" class="card-action">μμ„Έν λ³΄κΈ° <i class="fas fa-arrow-right ms-1"></i></a>-->
                </div>
                <div class="robot-grid">
                    <div class="robot-status-item">
                        <div class="robot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="robot-name">Mini</div>
                        <div class="robot-status-badge available">μ‚¬μ©κ°€λ¥</div>
                        <div class="battery-info">
                            <i class="fas fa-battery-full text-success"></i> λ°°ν„°λ¦¬: 95%
                        </div>
                    </div>

                    <div class="robot-status-item">
                        <div class="robot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="robot-name">Beta</div>
                        <div class="robot-status-badge charging">μλ¦¬μ¤‘</div>
                        <div class="battery-info">
                            <i class="fas fa-battery-three-quarters text-warning"></i> λ°°ν„°λ¦¬: 72%
                        </div>
                    </div>

                    <div class="robot-status-item">
                        <div class="robot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="robot-name">Gamma</div>
                        <div class="robot-status-badge charging">μλ¦¬μ¤‘</div>
                        <div class="battery-info">
                            <i class="fas fa-battery-half text-warning"></i> λ°°ν„°λ¦¬: 68%
                        </div>
                    </div>

<!--                    <div class="robot-status-item">-->
<!--                        <div class="robot-avatar">-->
<!--                            <i class="fas fa-robot"></i>-->
<!--                        </div>-->
<!--                        <div class="robot-name">Delta</div>-->
<!--                        <div class="robot-status-badge charging">μ¶©μ „μ¤‘</div>-->
<!--                        <div class="battery-info">-->
<!--                            <i class="fas fa-battery-quarter text-danger"></i> λ°°ν„°λ¦¬: 28%-->
<!--                        </div>-->
<!--                    </div>-->
                </div>
            </div>

            <div class="row">
                <!-- μ‹κ°„λ€λ³„ μ£Όλ¬Έ μ¶”μ΄ -->
                <div class="col-lg-8">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-chart-area me-2"></i>μ‹κ°„λ€λ³„ μ£Όλ¬Έ μ¶”μ΄</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="orderChart"
                                    data-hourly-orders='{{hourlyOrdersJson}}'></canvas>
                        </div>
                    </div>
                </div>

                <!-- μΈκΈ° λ©”λ‰΄ μμ„ -->
                <div class="col-lg-4">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-trophy me-2"></i>μΈκΈ° λ©”λ‰΄ TOP 5</h3>
                        </div>
                        <ul class="menu-rank-list">
                            {{#popularMenus}}
                                <li class="menu-rank-item">
                                    <div class="rank-number {{#isTop3}}top-{{rank}}{{/isTop3}}">{{rank}}</div>
                                    <div class="menu-info">
                                        <div class="menu-name">{{menuName}}</div>
                                        <div class="menu-category">{{category}}</div>
                                    </div>
                                    <div class="menu-orders">
                                        <div class="order-count">{{orderCount}}</div>
                                        <div class="order-label">μ£Όλ¬Έ</div>
                                    </div>
                                </li>
                            {{/popularMenus}}
                            {{^popularMenus}}
                                <li class="menu-rank-item">
                                    <div class="menu-info">
                                        <div class="menu-name">μ£Όλ¬Έ λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤</div>
                                    </div>
                                </li>
                            {{/popularMenus}}
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<div id="toast-container"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script src="/js/app/admin.js"></script>
{{>layout/footer}}
</body>
</html>