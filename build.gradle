// ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ì˜ì¡´ì„±ë“¤ì„ ê´€ë¦¬í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸
plugins {
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'
    id 'java'
}

group 'com.jojoldu.book' // ğŸ’¡ ì˜¤íƒ€ ìˆ˜ì •: com.jopjoldu -> com.jojoldu
version '1.0.4-SNAPSHOT-' + new Date().format("yyyyMMddHHmmss")

java {
    // Java 17ë¡œ ì„¤ì • (Spring Boot 3.x ìµœì†Œ ìš”êµ¬ì‚¬í•­)
    sourceCompatibility = '17'
}

// ì›ê²©ì €ì¥ì†Œ
repositories {
    mavenCentral()
}

// for Junit 5
tasks.named('test') { // (2) test ë¸”ë¡ ëŒ€ì‹  tasks.named ì‚¬ìš© (ìµœì‹  ê¶Œì¥)
    useJUnitPlatform()
}

dependencies {
    // ----------------------------------------------------
    // ğŸ’¡ í•µì‹¬ ìŠ¤íƒ€í„° ë° DB
    // ----------------------------------------------------

    // Spring Web ë° Core
    implementation 'org.springframework.boot:spring-boot-starter-web'

    // JPA (DB ì—°ë™)
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'

    // MariaDB JDBC ë“œë¼ì´ë²„ (ë²„ì „ì€ dependency-managementê°€ ê´€ë¦¬)
    implementation 'org.mariadb.jdbc:mariadb-java-client'

    // H2 ì¸ë©”ëª¨ë¦¬í˜• ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
    implementation 'com.h2database:h2'

    // ë¨¸ìŠ¤íƒ€ì¹˜ í…œí”Œë¦¿ ì—”ì§„
    implementation 'org.springframework.boot:spring-boot-starter-mustache'

    // ----------------------------------------------------
    // ğŸ’¡ ë³´ì•ˆ ë° ì¸ì¦ (ê´€ë¦¬ì ë¡œê·¸ì¸, OAuth2)
    // ----------------------------------------------------

    // Spring Security ê¸°ë³¸ ìŠ¤íƒ€í„° (ì¸ì¦/ê¶Œí•œ ê´€ë¦¬)
    implementation 'org.springframework.boot:spring-boot-starter-security'

    // Spring Security OAuth2 í´ë¼ì´ì–¸íŠ¸ (êµ¬ê¸€, ì¹´ì¹´ì˜¤ ë“± ì†Œì…œ ë¡œê·¸ì¸)
    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'

    // ì„¸ì…˜ ê´€ë¦¬ë¥¼ DB(JDBC)ë¡œ ì²˜ë¦¬
    implementation 'org.springframework.session:spring-session-jdbc'

    // ----------------------------------------------------
    // ğŸ’¡ ìœ í‹¸ë¦¬í‹° ë° ê°œë°œ ë„êµ¬
    // ----------------------------------------------------

    // Lombok ì„¤ì • (ìµœì‹  ê¶Œì¥ ë°©ì‹)
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'

    // ê°œë°œ ì¤‘ ìë™ ë¦¬ë¡œë“œ (ë¼ì´ë¸Œ)
    developmentOnly 'org.springframework.boot:spring-boot-devtools'

    // ì›¹ ì†Œì¼“
    implementation 'org.springframework.boot:spring-boot-starter-websocket'
    implementation 'org.java-websocket:Java-WebSocket:1.5.4'


    // ----------------------------------------------------
    // ğŸ’¡ í…ŒìŠ¤íŠ¸
    // ----------------------------------------------------

    // Spring Boot í…ŒìŠ¤íŠ¸ ê¸°ë³¸
    testImplementation 'org.springframework.boot:spring-boot-starter-test'

    // Lombok í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„± (ìƒëµí•´ë„ ë¬´ë°©í•˜ë‚˜ ëª…ì‹œì ìœ¼ë¡œ ìœ ì§€)
    testCompileOnly 'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'

    // Spring Security í…ŒìŠ¤íŠ¸ ì§€ì›
    testImplementation 'org.springframework.security:spring-security-test'
}